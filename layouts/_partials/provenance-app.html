{{/* App Provenance Partial - populated by provenance.js */}}
<div id="provenance-app" class="space-y-8">

  {{/* Status Banner */}}
  <div class="attestation-card">
    <div class="flex items-center justify-between">
      <div class="flex items-center gap-3">
        <span class="status-dot" data-bind="app.status-dot"></span>
        <div>
          <div class="font-medium">Application <span data-bind="app.status-text">Loading...</span></div>
          <div class="text-xs text-[rgb(var(--muted))]">
            Track: <span data-bind="app.track">—</span> · Built <span data-bind="app.created_at" data-format="date">—</span>
          </div>
        </div>
      </div>
      <div class="text-right">
        <div class="text-lg font-medium mono" data-bind="app.version">—</div>
        <div class="text-xs text-[rgb(var(--muted))]">App Version</div>
      </div>
    </div>
  </div>

  {{/* Build Info */}}
  <section>
    <h2 class="text-lg font-semibold mb-4">Build</h2>
    <div class="blueprint-card">
      <div class="grid md:grid-cols-2 gap-4">
        <div>
          <div class="attestation-label">Build ID</div>
          <div class="attestation-value text-xs break-all mono" data-bind="app.build_id">—</div>
        </div>
        <div>
          <div class="attestation-label">Track</div>
          <div class="attestation-value" data-bind="app.track">—</div>
        </div>
        <div>
          <div class="attestation-label">Built At</div>
          <div class="attestation-value tabular" data-bind="app.created_at" data-format="datetime">—</div>
        </div>
      </div>
    </div>
  </section>

  {{/* Source */}}
  <section>
    <h2 class="text-lg font-semibold mb-4">Source</h2>
    <div class="blueprint-card">
      <div class="grid md:grid-cols-2 gap-4">
        <div class="md:col-span-2">
          <div class="attestation-label">Repository</div>
          <div class="attestation-value text-xs">
            <a data-bind="app.source.repository" data-bind-href="app.source.repository" class="text-[rgb(var(--accent))] hover:underline" target="_blank" rel="noopener">—</a>
          </div>
        </div>
        <div>
          <div class="attestation-label">Commit</div>
          <div class="attestation-value text-xs break-all" data-bind="app.source.commit">—</div>
        </div>
        <div>
          <div class="attestation-label">Branch</div>
          <div class="attestation-value">
            <span data-bind="app.source.branch">—</span>
            <span data-bind-show="app.source.dirty" class="text-[rgb(var(--warn))] text-xs ml-1 hidden">(dirty)</span>
          </div>
        </div>
        <div>
          <div class="attestation-label">Commit Date</div>
          <div class="attestation-value tabular" data-bind="app.source.commit_date" data-format="datetime">—</div>
        </div>
      </div>
    </div>
  </section>

  {{/* Attestations */}}
  <section>
    <h2 class="text-lg font-semibold mb-4">Attestations</h2>
    <div class="blueprint-card">
      <div class="grid md:grid-cols-2 gap-4">
        <div class="flex items-center gap-2">
          <span class="w-2 h-2 rounded-full" data-bind-class="app.attestations.cosign.signed:bg-[rgb(var(--good))]:bg-[rgb(var(--bad))]"></span>
          <span>Cosign Signature</span>
          <span class="text-xs text-[rgb(var(--muted))]" data-bind="app.attestations.cosign.method">—</span>
        </div>
        <div class="flex items-center gap-2">
          <span class="w-2 h-2 rounded-full" data-bind-class="app.attestations.slsa.verified:bg-[rgb(var(--good))]:bg-[rgb(var(--bad))]"></span>
          <span>SLSA Level <span data-bind="app.attestations.slsa.level">—</span></span>
        </div>
      </div>
    </div>
  </section>

  {{/* Policy */}}
  <section>
    <h2 class="text-lg font-semibold mb-4">Policy</h2>
    <div class="blueprint-card">
      <div class="grid grid-cols-2 md:grid-cols-4 gap-3 text-sm">
        <div class="flex items-center gap-2">
          <span class="w-2 h-2 rounded-full" data-bind-class="app.policy.signing:bg-[rgb(var(--good))]:bg-[rgb(var(--muted))]"></span>
          <span>Signing required</span>
        </div>
        <div class="flex items-center gap-2">
          <span class="w-2 h-2 rounded-full" data-bind-class="app.policy.sbom:bg-[rgb(var(--good))]:bg-[rgb(var(--muted))]"></span>
          <span>SBOM required</span>
        </div>
        <div class="flex items-center gap-2">
          <span class="w-2 h-2 rounded-full" data-bind-class="app.policy.scan:bg-[rgb(var(--good))]:bg-[rgb(var(--muted))]"></span>
          <span>Scan required</span>
        </div>
        <div class="flex items-center gap-2">
          <span class="w-2 h-2 rounded-full" data-bind-class="app.policy.vuln_gating:bg-[rgb(var(--good))]:bg-[rgb(var(--muted))]"></span>
          <span>Vuln gating</span>
        </div>
      </div>
    </div>
  </section>

  {{/* Vulnerabilities */}}
  <section>
    <h2 class="text-lg font-semibold mb-4">Vulnerabilities</h2>
    <div class="blueprint-card">
      <div class="flex gap-4">
        <div class="text-center">
          <div class="w-10 h-10 rounded flex items-center justify-center bg-[rgb(var(--bad))]/20 text-[rgb(var(--bad))] font-semibold text-lg" data-bind="app.vulns.critical">—</div>
          <div class="text-xs text-[rgb(var(--muted))] mt-1">Critical</div>
        </div>
        <div class="text-center">
          <div class="w-10 h-10 rounded flex items-center justify-center bg-[rgb(var(--warn))]/20 text-[rgb(var(--warn))] font-semibold text-lg" data-bind="app.vulns.high">—</div>
          <div class="text-xs text-[rgb(var(--muted))] mt-1">High</div>
        </div>
        <div class="text-center">
          <div class="w-10 h-10 rounded flex items-center justify-center bg-[rgb(var(--accent))]/20 text-[rgb(var(--accent))] font-semibold text-lg" data-bind="app.vulns.medium">—</div>
          <div class="text-xs text-[rgb(var(--muted))] mt-1">Medium</div>
        </div>
        <div class="text-center">
          <div class="w-10 h-10 rounded flex items-center justify-center bg-[rgb(var(--muted))]/20 text-[rgb(var(--muted))] font-semibold text-lg" data-bind="app.vulns.low">—</div>
          <div class="text-xs text-[rgb(var(--muted))] mt-1">Low</div>
        </div>
      </div>
    </div>
  </section>

  {{/* SBOM */}}
  <section>
    <h2 class="text-lg font-semibold mb-4">Software Bill of Materials</h2>
    <div class="blueprint-card">
      <div class="grid md:grid-cols-3 gap-4">
        <div>
          <div class="attestation-label">Format</div>
          <div class="attestation-value" data-bind="app.sbom.format">—</div>
        </div>
        <div>
          <div class="attestation-label">Packages</div>
          <div class="attestation-value" data-bind="app.sbom.package_count">—</div>
        </div>
        <div>
          <div class="attestation-label">License Compliant</div>
          <div class="attestation-value" data-bind="app.licenses.compliant">—</div>
        </div>
      </div>
    </div>
  </section>

  {{/* Container */}}
  <section>
    <h2 class="text-lg font-semibold mb-4">Container</h2>
    <div class="blueprint-card">
      <div class="space-y-3">
        <div>
          <div class="attestation-label">Image</div>
          <div class="attestation-value text-xs break-all mono" data-bind="app.container.image">—</div>
        </div>
        <div>
          <div class="attestation-label">Digest</div>
          <div class="attestation-value text-xs break-all mono" data-bind="app.container.digest">—</div>
        </div>
        <div class="grid md:grid-cols-2 gap-4">
          <div>
            <div class="attestation-label">Tag</div>
            <div class="attestation-value mono" data-bind="app.container.tag">—</div>
          </div>
          <div>
            <div class="attestation-label">Pushed At</div>
            <div class="attestation-value tabular" data-bind="app.container.pushed_at" data-format="datetime">—</div>
          </div>
        </div>
      </div>
    </div>
  </section>

  {{/* Raw JSON */}}
  <section>
    <details class="group">
      <summary class="cursor-pointer text-sm text-[rgb(var(--muted))] hover:text-[rgb(var(--fg))] transition-colors">
        <span class="group-open:hidden">Show raw JSON</span>
        <span class="hidden group-open:inline">Hide raw JSON</span>
      </summary>
      <div class="mt-4">
        <pre class="sig-block text-[10px] overflow-x-auto max-h-96" data-bind="app.raw-json"></pre>
      </div>
    </details>
  </section>

</div>